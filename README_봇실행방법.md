# 🤖 Morning Bot 실행 방법

## 📋 빠른 시작

### 1️⃣ 봇 실행
터미널에서 다음 명령어를 실행하세요:

```bash
./start_bot.sh
```

또는 직접 실행:

```bash
python3 -m backend.app.telegram_bot.bot
```

### 2️⃣ 봇 종료
실행 중인 터미널에서 **Ctrl + C**를 누르면 봇이 종료됩니다.

---

## 🔧 기타 유용한 명령어

### 수동 데이터 수집
뉴스와 시장 데이터를 즉시 수집:
```bash
python3 collect_now.py
```

### API 연동 테스트
모든 API가 정상 작동하는지 확인:
```bash
python3 test_api_connections.py
```

---

## 📊 봇 실행 시 표시되는 메시지

정상적으로 실행되면 다음과 같은 메시지가 표시됩니다:

```
================================================
  🤖 Morning Bot - 텔레그램 봇 시작
================================================

봇을 종료하려면 Ctrl+C를 누르세요.

------------------------------------------------

INFO:apscheduler.scheduler:Scheduler started
INFO:telegram.ext.Application:Application started
```

**이제 텔레그램 앱에서 봇에게 명령어를 보낼 수 있습니다!**

---

## 🎯 봇 명령어

텔레그램에서 사용 가능한 명령어:

- `/start` - 봇 시작 및 메인 키보드 표시
- `/today` - 오늘의 요약 (시장 + 뉴스)
- `/btc` - 비트코인 시세
- `/crypto` - 암호화폐 메뉴
- `/fx` - 환율 조회
- `/subscribe` - 아침 알림 구독
- `/unsubscribe` - 알림 구독 취소
- `/set_time` - 알림 시간 설정
- `/settings` - 현재 설정 확인
- `/lotto` - AI 로또 번호 생성

또는 **메인 키보드 버튼**을 눌러서 사용하세요!

---

## ⏰ 자동 스케줄

봇이 실행되면 다음 작업이 자동으로 진행됩니다:

- **09:01 (매일)** - 뉴스 + 시장 데이터 수집
- **09:05 (매일)** - 전일대비 계산 + 모닝 브리핑 전송
- **매시간** - 속보 수집
- **12:00, 18:00, 22:00** - 속보 배치 전송

---

## 🚨 문제 해결

### 봇이 시작되지 않는 경우

1. `.env` 파일에 `TELEGRAM_TOKEN`이 설정되어 있는지 확인
2. Python 가상환경이 활성화되어 있는지 확인:
   ```bash
   source venv/bin/activate
   ```

### 데이터가 표시되지 않는 경우

먼저 수동으로 데이터를 수집해보세요:
```bash
python3 collect_now.py
```

### API 오류가 발생하는 경우

API 연동을 테스트해보세요:
```bash
python3 test_api_connections.py
```

---

## 📝 로그 확인

봇 실행 중 모든 로그는 터미널에 실시간으로 표시됩니다.

에러가 발생하면 상세한 오류 메시지가 표시되므로,
문제 해결에 활용하세요!

---

**즐거운 Morning Bot 사용 되세요! 🌅**
